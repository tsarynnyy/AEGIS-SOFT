{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":38,"index":187}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [accessToken, setAccessToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n\n    // Load saved auth on mount\n    (0, _react.useEffect)(() => {\n      loadSavedAuth();\n    }, []);\n    const loadSavedAuth = async () => {\n      try {\n        const savedToken = await AsyncStorage.default.getItem('access_token');\n        const savedUser = await AsyncStorage.default.getItem('user');\n        if (savedToken && savedUser) {\n          setAccessToken(savedToken);\n          setUser(JSON.parse(savedUser));\n        }\n      } catch (error) {\n        console.error('Failed to load saved auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.api.login({\n          email,\n          password\n        });\n        if (response.error) {\n          return {\n            success: false,\n            error: response.error\n          };\n        }\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n\n        // Save to state\n        setAccessToken(access_token);\n        setUser(userData);\n\n        // Save to AsyncStorage\n        await AsyncStorage.default.setItem('access_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        return {\n          success: true\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: 'Login failed. Please try again.'\n        };\n      }\n    };\n    const register = async (email, password, firstName, lastName) => {\n      try {\n        const response = await _servicesApi.api.register({\n          email,\n          password,\n          role: 'member',\n          first_name: firstName,\n          last_name: lastName\n        });\n        if (response.error) {\n          return {\n            success: false,\n            error: response.error\n          };\n        }\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n\n        // Save to state\n        setAccessToken(access_token);\n        setUser(userData);\n\n        // Save to AsyncStorage\n        await AsyncStorage.default.setItem('access_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        return {\n          success: true\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: 'Registration failed. Please try again.'\n        };\n      }\n    };\n    const logout = async () => {\n      try {\n        console.log('Logging out...');\n        await AsyncStorage.default.removeItem('access_token');\n        await AsyncStorage.default.removeItem('user');\n        setAccessToken(null);\n        setUser(null);\n        console.log('Logout successful - auth state cleared');\n      } catch (error) {\n        console.error('Logout failed:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        accessToken,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"Rjw2VfGhIPj/+CZ7AWL73dwZ6C8=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":171,"map":[[15,2,24,0,"Object"],[15,8,24,0],[15,9,24,0,"defineProperty"],[15,23,24,0],[15,24,24,0,"exports"],[15,31,24,0],[16,4,24,0,"enumerable"],[16,14,24,0],[17,4,24,0,"get"],[17,7,24,0],[17,18,24,0,"get"],[17,19,24,0],[18,6,24,0],[18,13,24,0,"AuthProvider"],[18,25,24,0],[19,4,24,0],[20,2,24,0],[21,2,124,0,"Object"],[21,8,124,0],[21,9,124,0,"defineProperty"],[21,23,124,0],[21,24,124,0,"exports"],[21,31,124,0],[22,4,124,0,"enumerable"],[22,14,124,0],[23,4,124,0,"get"],[23,7,124,0],[23,18,124,0,"get"],[23,19,124,0],[24,6,124,0],[24,13,124,0,"useAuth"],[24,20,124,0],[25,4,124,0],[26,2,124,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,38],[31,6,3,38,"_reactJsxDevRuntime"],[31,25,3,38],[31,28,3,38,"require"],[31,35,3,38],[31,36,3,38,"_dependencyMap"],[31,50,3,38],[32,2,22,0],[32,8,22,6,"AuthContext"],[32,19,22,17],[32,35,22,20],[32,39,22,20,"createContext"],[32,45,22,33],[32,46,22,33,"createContext"],[32,59,22,33],[32,61,22,63,"undefined"],[32,70,22,72],[32,71,22,73],[33,2,24,7],[33,8,24,13,"AuthProvider"],[33,20,24,66],[33,23,24,69,"AuthProvider"],[33,24,24,70],[34,4,24,72,"children"],[35,2,24,81],[35,3,24,82],[35,8,24,87],[36,4,24,87,"_s"],[36,6,24,87],[37,4,25,2],[37,10,25,8],[37,11,25,9,"user"],[37,15,25,13],[37,17,25,15,"setUser"],[37,24,25,22],[37,25,25,23],[37,28,25,26],[37,32,25,26,"useState"],[37,38,25,34],[37,39,25,34,"useState"],[37,47,25,34],[37,49,25,48],[37,53,25,52],[37,54,25,53],[38,4,26,2],[38,10,26,8],[38,11,26,9,"accessToken"],[38,22,26,20],[38,24,26,22,"setAccessToken"],[38,38,26,36],[38,39,26,37],[38,42,26,40],[38,46,26,40,"useState"],[38,52,26,48],[38,53,26,48,"useState"],[38,61,26,48],[38,63,26,64],[38,67,26,68],[38,68,26,69],[39,4,27,2],[39,10,27,8],[39,11,27,9,"isLoading"],[39,20,27,18],[39,22,27,20,"setIsLoading"],[39,34,27,32],[39,35,27,33],[39,38,27,36],[39,42,27,36,"useState"],[39,48,27,44],[39,49,27,44,"useState"],[39,57,27,44],[39,59,27,45],[39,63,27,49],[39,64,27,50],[41,4,29,2],[42,4,30,2],[42,8,30,2,"useEffect"],[42,14,30,11],[42,15,30,11,"useEffect"],[42,24,30,11],[42,26,30,12],[42,32,30,18],[43,6,31,4,"loadSavedAuth"],[43,19,31,17],[43,20,31,18],[43,21,31,19],[44,4,32,2],[44,5,32,3],[44,7,32,5],[44,9,32,7],[44,10,32,8],[45,4,34,2],[45,10,34,8,"loadSavedAuth"],[45,23,34,21],[45,26,34,24],[45,32,34,24,"loadSavedAuth"],[45,33,34,24],[45,38,34,36],[46,6,35,4],[46,10,35,8],[47,8,36,6],[47,14,36,12,"savedToken"],[47,24,36,22],[47,27,36,25],[47,33,36,31,"AsyncStorage"],[47,45,36,43],[47,46,36,43,"default"],[47,53,36,43],[47,54,36,44,"getItem"],[47,61,36,51],[47,62,36,52],[47,76,36,66],[47,77,36,67],[48,8,37,6],[48,14,37,12,"savedUser"],[48,23,37,21],[48,26,37,24],[48,32,37,30,"AsyncStorage"],[48,44,37,42],[48,45,37,42,"default"],[48,52,37,42],[48,53,37,43,"getItem"],[48,60,37,50],[48,61,37,51],[48,67,37,57],[48,68,37,58],[49,8,39,6],[49,12,39,10,"savedToken"],[49,22,39,20],[49,26,39,24,"savedUser"],[49,35,39,33],[49,37,39,35],[50,10,40,8,"setAccessToken"],[50,24,40,22],[50,25,40,23,"savedToken"],[50,35,40,33],[50,36,40,34],[51,10,41,8,"setUser"],[51,17,41,15],[51,18,41,16,"JSON"],[51,22,41,20],[51,23,41,21,"parse"],[51,28,41,26],[51,29,41,27,"savedUser"],[51,38,41,36],[51,39,41,37],[51,40,41,38],[52,8,42,6],[53,6,43,4],[53,7,43,5],[53,8,43,6],[53,15,43,13,"error"],[53,20,43,18],[53,22,43,20],[54,8,44,6,"console"],[54,15,44,13],[54,16,44,14,"error"],[54,21,44,19],[54,22,44,20],[54,50,44,48],[54,52,44,50,"error"],[54,57,44,55],[54,58,44,56],[55,6,45,4],[55,7,45,5],[55,16,45,14],[56,8,46,6,"setIsLoading"],[56,20,46,18],[56,21,46,19],[56,26,46,24],[56,27,46,25],[57,6,47,4],[58,4,48,2],[58,5,48,3],[59,4,50,2],[59,10,50,8,"login"],[59,15,50,13],[59,18,50,16],[59,24,50,16,"login"],[59,25,50,23,"email"],[59,30,50,36],[59,32,50,38,"password"],[59,40,50,54],[59,45,50,59],[60,6,51,4],[60,10,51,8],[61,8,52,6],[61,14,52,12,"response"],[61,22,52,20],[61,25,52,23],[61,31,52,29,"api"],[61,43,52,32],[61,44,52,32,"api"],[61,47,52,32],[61,48,52,33,"login"],[61,53,52,38],[61,54,52,39],[62,10,52,41,"email"],[62,15,52,46],[63,10,52,48,"password"],[64,8,52,57],[64,9,52,58],[64,10,52,59],[65,8,54,6],[65,12,54,10,"response"],[65,20,54,18],[65,21,54,19,"error"],[65,26,54,24],[65,28,54,26],[66,10,55,8],[66,17,55,15],[67,12,55,17,"success"],[67,19,55,24],[67,21,55,26],[67,26,55,31],[68,12,55,33,"error"],[68,17,55,38],[68,19,55,40,"response"],[68,27,55,48],[68,28,55,49,"error"],[69,10,55,55],[69,11,55,56],[70,8,56,6],[71,8,58,6],[71,14,58,12],[72,10,58,14,"access_token"],[72,22,58,26],[73,10,58,28,"user"],[73,14,58,32],[73,16,58,34,"userData"],[74,8,58,43],[74,9,58,44],[74,12,58,47,"response"],[74,20,58,55],[74,21,58,56,"data"],[74,25,58,60],[76,8,60,6],[77,8,61,6,"setAccessToken"],[77,22,61,20],[77,23,61,21,"access_token"],[77,35,61,33],[77,36,61,34],[78,8,62,6,"setUser"],[78,15,62,13],[78,16,62,14,"userData"],[78,24,62,22],[78,25,62,23],[80,8,64,6],[81,8,65,6],[81,14,65,12,"AsyncStorage"],[81,26,65,24],[81,27,65,24,"default"],[81,34,65,24],[81,35,65,25,"setItem"],[81,42,65,32],[81,43,65,33],[81,57,65,47],[81,59,65,49,"access_token"],[81,71,65,61],[81,72,65,62],[82,8,66,6],[82,14,66,12,"AsyncStorage"],[82,26,66,24],[82,27,66,24,"default"],[82,34,66,24],[82,35,66,25,"setItem"],[82,42,66,32],[82,43,66,33],[82,49,66,39],[82,51,66,41,"JSON"],[82,55,66,45],[82,56,66,46,"stringify"],[82,65,66,55],[82,66,66,56,"userData"],[82,74,66,64],[82,75,66,65],[82,76,66,66],[83,8,68,6],[83,15,68,13],[84,10,68,15,"success"],[84,17,68,22],[84,19,68,24],[85,8,68,29],[85,9,68,30],[86,6,69,4],[86,7,69,5],[86,8,69,6],[86,15,69,13,"error"],[86,20,69,18],[86,22,69,20],[87,8,70,6],[87,15,70,13],[88,10,70,15,"success"],[88,17,70,22],[88,19,70,24],[88,24,70,29],[89,10,70,31,"error"],[89,15,70,36],[89,17,70,38],[90,8,70,72],[90,9,70,73],[91,6,71,4],[92,4,72,2],[92,5,72,3],[93,4,74,2],[93,10,74,8,"register"],[93,18,74,16],[93,21,74,19],[93,27,74,19,"register"],[93,28,74,26,"email"],[93,33,74,39],[93,35,74,41,"password"],[93,43,74,57],[93,45,74,59,"firstName"],[93,54,74,77],[93,56,74,79,"lastName"],[93,64,74,96],[93,69,74,101],[94,6,75,4],[94,10,75,8],[95,8,76,6],[95,14,76,12,"response"],[95,22,76,20],[95,25,76,23],[95,31,76,29,"api"],[95,43,76,32],[95,44,76,32,"api"],[95,47,76,32],[95,48,76,33,"register"],[95,56,76,41],[95,57,76,42],[96,10,77,8,"email"],[96,15,77,13],[97,10,78,8,"password"],[97,18,78,16],[98,10,79,8,"role"],[98,14,79,12],[98,16,79,14],[98,24,79,22],[99,10,80,8,"first_name"],[99,20,80,18],[99,22,80,20,"firstName"],[99,31,80,29],[100,10,81,8,"last_name"],[100,19,81,17],[100,21,81,19,"lastName"],[101,8,82,6],[101,9,82,7],[101,10,82,8],[102,8,84,6],[102,12,84,10,"response"],[102,20,84,18],[102,21,84,19,"error"],[102,26,84,24],[102,28,84,26],[103,10,85,8],[103,17,85,15],[104,12,85,17,"success"],[104,19,85,24],[104,21,85,26],[104,26,85,31],[105,12,85,33,"error"],[105,17,85,38],[105,19,85,40,"response"],[105,27,85,48],[105,28,85,49,"error"],[106,10,85,55],[106,11,85,56],[107,8,86,6],[108,8,88,6],[108,14,88,12],[109,10,88,14,"access_token"],[109,22,88,26],[110,10,88,28,"user"],[110,14,88,32],[110,16,88,34,"userData"],[111,8,88,43],[111,9,88,44],[111,12,88,47,"response"],[111,20,88,55],[111,21,88,56,"data"],[111,25,88,60],[113,8,90,6],[114,8,91,6,"setAccessToken"],[114,22,91,20],[114,23,91,21,"access_token"],[114,35,91,33],[114,36,91,34],[115,8,92,6,"setUser"],[115,15,92,13],[115,16,92,14,"userData"],[115,24,92,22],[115,25,92,23],[117,8,94,6],[118,8,95,6],[118,14,95,12,"AsyncStorage"],[118,26,95,24],[118,27,95,24,"default"],[118,34,95,24],[118,35,95,25,"setItem"],[118,42,95,32],[118,43,95,33],[118,57,95,47],[118,59,95,49,"access_token"],[118,71,95,61],[118,72,95,62],[119,8,96,6],[119,14,96,12,"AsyncStorage"],[119,26,96,24],[119,27,96,24,"default"],[119,34,96,24],[119,35,96,25,"setItem"],[119,42,96,32],[119,43,96,33],[119,49,96,39],[119,51,96,41,"JSON"],[119,55,96,45],[119,56,96,46,"stringify"],[119,65,96,55],[119,66,96,56,"userData"],[119,74,96,64],[119,75,96,65],[119,76,96,66],[120,8,98,6],[120,15,98,13],[121,10,98,15,"success"],[121,17,98,22],[121,19,98,24],[122,8,98,29],[122,9,98,30],[123,6,99,4],[123,7,99,5],[123,8,99,6],[123,15,99,13,"error"],[123,20,99,18],[123,22,99,20],[124,8,100,6],[124,15,100,13],[125,10,100,15,"success"],[125,17,100,22],[125,19,100,24],[125,24,100,29],[126,10,100,31,"error"],[126,15,100,36],[126,17,100,38],[127,8,100,79],[127,9,100,80],[128,6,101,4],[129,4,102,2],[129,5,102,3],[130,4,104,2],[130,10,104,8,"logout"],[130,16,104,14],[130,19,104,17],[130,25,104,17,"logout"],[130,26,104,17],[130,31,104,29],[131,6,105,4],[131,10,105,8],[132,8,106,6,"console"],[132,15,106,13],[132,16,106,14,"log"],[132,19,106,17],[132,20,106,18],[132,36,106,34],[132,37,106,35],[133,8,107,6],[133,14,107,12,"AsyncStorage"],[133,26,107,24],[133,27,107,24,"default"],[133,34,107,24],[133,35,107,25,"removeItem"],[133,45,107,35],[133,46,107,36],[133,60,107,50],[133,61,107,51],[134,8,108,6],[134,14,108,12,"AsyncStorage"],[134,26,108,24],[134,27,108,24,"default"],[134,34,108,24],[134,35,108,25,"removeItem"],[134,45,108,35],[134,46,108,36],[134,52,108,42],[134,53,108,43],[135,8,109,6,"setAccessToken"],[135,22,109,20],[135,23,109,21],[135,27,109,25],[135,28,109,26],[136,8,110,6,"setUser"],[136,15,110,13],[136,16,110,14],[136,20,110,18],[136,21,110,19],[137,8,111,6,"console"],[137,15,111,13],[137,16,111,14,"log"],[137,19,111,17],[137,20,111,18],[137,60,111,58],[137,61,111,59],[138,6,112,4],[138,7,112,5],[138,8,112,6],[138,15,112,13,"error"],[138,20,112,18],[138,22,112,20],[139,8,113,6,"console"],[139,15,113,13],[139,16,113,14,"error"],[139,21,113,19],[139,22,113,20],[139,38,113,36],[139,40,113,38,"error"],[139,45,113,43],[139,46,113,44],[140,6,114,4],[141,4,115,2],[141,5,115,3],[142,4,117,2],[142,24,118,4],[142,28,118,4,"_reactJsxDevRuntime"],[142,47,118,4],[142,48,118,4,"jsxDEV"],[142,54,118,4],[142,56,118,5,"AuthContext"],[142,67,118,16],[142,68,118,17,"Provider"],[142,76,118,25],[143,6,118,26,"value"],[143,11,118,31],[143,13,118,33],[144,8,118,35,"user"],[144,12,118,39],[145,8,118,41,"accessToken"],[145,19,118,52],[146,8,118,54,"isLoading"],[146,17,118,63],[147,8,118,65,"login"],[147,13,118,70],[148,8,118,72,"register"],[148,16,118,80],[149,8,118,82,"logout"],[150,6,118,89],[150,7,118,91],[151,6,118,91,"children"],[151,14,118,91],[151,16,119,7,"children"],[152,4,119,15],[153,6,119,15,"fileName"],[153,14,119,15],[153,16,119,15,"_jsxFileName"],[153,28,119,15],[154,6,119,15,"lineNumber"],[154,16,119,15],[155,6,119,15,"columnNumber"],[155,18,119,15],[156,4,119,15],[156,11,120,26],[156,12,120,27],[157,2,122,0],[157,3,122,1],[158,2,122,2,"_s"],[158,4,122,2],[158,5,24,13,"AuthProvider"],[158,17,24,66],[159,2,24,66,"_c"],[159,4,24,66],[159,7,24,13,"AuthProvider"],[159,19,24,66],[160,2,124,7],[160,8,124,13,"useAuth"],[160,15,124,20],[160,18,124,23,"useAuth"],[160,19,124,23],[160,24,124,29],[161,4,124,29,"_s2"],[161,7,124,29],[162,4,125,2],[162,10,125,8,"context"],[162,17,125,15],[162,20,125,18],[162,24,125,18,"useContext"],[162,30,125,28],[162,31,125,28,"useContext"],[162,41,125,28],[162,43,125,29,"AuthContext"],[162,54,125,40],[162,55,125,41],[163,4,126,2],[163,8,126,6,"context"],[163,15,126,13],[163,20,126,18,"undefined"],[163,29,126,27],[163,31,126,29],[164,6,127,4],[164,12,127,10],[164,16,127,14,"Error"],[164,21,127,19],[164,22,127,20],[164,67,127,65],[164,68,127,66],[165,4,128,2],[166,4,129,2],[166,11,129,9,"context"],[166,18,129,16],[167,2,130,0],[167,3,130,1],[168,2,130,2,"_s2"],[168,5,130,2],[168,6,124,13,"useAuth"],[168,13,124,20],[169,2,124,20],[169,6,124,20,"_c"],[169,8,124,20],[170,2,124,20,"$RefreshReg$"],[170,14,124,20],[170,15,124,20,"_c"],[170,17,124,20],[171,0,124,20],[171,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadSavedAuth","login","register","logout","useAuth"],"mappings":"AAA;qECuB;YCM;GDE;wBEE;GFc;gBGE;GHsB;mBIE;GJ4B;iBKE;GLW;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}